import{c as O,n as j,t as B,h as z,H as L,a4 as G,I as T,w as E,G as V}from"./httpRequest-0b86582a.js";import{d as i,e as H,r as C,y as K,_ as p,o as s,c as o,N as g,b as e,F as v,E as f,K as P,C as c,I as D,H as Z,G as M,M as w,P as q,p as R,a as A,j as J,O as Q,z as U,A as W,f as X}from"./index-cb6920fd.js";import{a as Y,S as tt}from"./index-4348b721.js";import{u as et,R as st}from"./index-default-d28a4e4f.js";function ot(t,_){const l=et(t,!0);return a=>i("div",{class:_("placeholder"),style:{height:l.value?`${l.value}px`:void 0}},[a()])}const[at,y]=O("nav-bar"),nt={title:String,fixed:Boolean,zIndex:j,border:B,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:B};var ct=H({name:at,props:nt,emits:["clickLeft","clickRight"],setup(t,{emit:_,slots:l}){const a=C(),d=ot(a,y),r=u=>_("clickLeft",u),n=u=>_("clickRight",u),m=()=>l.left?l.left():[t.leftArrow&&i(T,{class:y("arrow"),name:"arrow-left"},null),t.leftText&&i("span",{class:y("text")},[t.leftText])],$=()=>l.right?l.right():i("span",{class:y("text")},[t.rightText]),h=()=>{const{title:u,fixed:I,border:S,zIndex:k}=t,b=z(k),F=t.leftArrow||t.leftText||l.left,N=t.rightText||l.right;return i("div",{ref:a,style:b,class:[y({fixed:I}),{[G]:S,"van-safe-area-top":t.safeAreaInsetTop}]},[i("div",{class:y("content")},[F&&i("div",{class:[y("left"),t.clickable?L:""],onClick:r},[m()]),i("div",{class:[y("title"),"van-ellipsis"]},[l.title?l.title():u]),N&&i("div",{class:[y("right"),t.clickable?L:""],onClick:n},[$()])])])};return()=>t.fixed&&t.placeholder?d(h):h()}});const lt=E(ct);function it(t){return V.get("detail/infos",{params:{houseId:t}})}const dt=K("detail",{state:()=>({detailData:{}}),actions:{async fetchDetailAction(t){const _=await it(t);this.detailData=_.data.data}}});const rt={class:"swipe"},_t=["src"],ut={class:"custom-indicator"},mt={class:"text"},ht={key:0,class:"count"},vt={__name:"DetailSwipe_01",props:{swipeData:{typeof:Array,default:()=>[]}},setup(t){const _=t,l={};for(const r of _.swipeData){let n=l[r.enumPictureCategory];n||(n=[],l[r.enumPictureCategory]=n),n.push(r)}const a=r=>r.replace("：",""),d=r=>l[r.enumPictureCategory].findIndex(m=>m===r);return(r,n)=>{const m=Y,$=tt;return s(),o("div",rt,[i($,{class:"swipe-list",autoplay:3e3,"indicator-color":"white"},{indicator:g(({active:h})=>[e("div",ut,[(s(),o(v,null,f(l,(u,I,S)=>{var k,b;return e("span",{key:S,class:P(["item",{active:((k=t.swipeData[h])==null?void 0:k.enumPictureCategory)==I}])},[e("span",mt,c(a(u[0].title)),1),((b=t.swipeData[h])==null?void 0:b.enumPictureCategory)==I?(s(),o("span",ht,c(d(t.swipeData[h])+1)+"/"+c(u.length),1)):D("",!0)],2)}),64))])]),default:g(()=>[(s(!0),o(v,null,f(_.swipeData,(h,u)=>(s(),Z(m,{key:u,class:"item"},{default:g(()=>[e("img",{src:h.url,alt:""},null,8,_t)]),_:2},1024))),128))]),_:1})])}}},ft=p(vt,[["__scopeId","data-v-eaad6409"]]);const pt={class:"detail-infos"},yt={class:"name"},gt={class:"tagtext"},$t={class:"comment"},xt={class:"score"},Dt={class:"overall"},It={class:"score-title"},kt={class:"brief"},bt={class:"total"},wt={class:"position"},St={class:"address"},Tt={class:"right"},Ct={__name:"DetailInfos_02",props:{detailInfos:{typeof:Array,default:()=>[]}},setup(t){const _=t,l=C([]);return l.value=_.detailInfos.houseTags,(a,d)=>{const r=T;return s(),o("div",pt,[e("div",yt,[e("h2",null,c(t.detailInfos.houseName),1)]),e("div",gt,[(s(!0),o(v,null,f(l.value,n=>{var m,$,h,u;return s(),o("span",{key:n.tagCode,class:"text",style:M({color:(m=n==null?void 0:n.tagText)==null?void 0:m.color,background:(h=($=n==null?void 0:n.tagText)==null?void 0:$.background)==null?void 0:h.color})},c((u=n==null?void 0:n.tagText)==null?void 0:u.text),5)}),128))]),e("div",$t,[e("div",xt,[e("span",Dt,c(t.detailInfos.commentBrief.overall),1),e("span",It,c(t.detailInfos.commentBrief.scoreTitle),1),e("span",kt,'"'+c(t.detailInfos.commentBrief.commentBrief)+'"',1)]),e("div",bt,[e("span",null,[w(c(t.detailInfos.commentBrief.totalCount)+"条评论 ",1),i(r,{name:"arrow"})])])]),e("div",wt,[e("div",St,c(t.detailInfos.nearByPosition.address),1),e("div",Tt,[w(" 地图·周边 "),i(r,{name:"arrow"})])])])}}},Mt=p(Ct,[["__scopeId","data-v-b4122099"]]);const Bt={class:"section"},Lt={class:"top"},Pt={class:"center"},Rt={key:0,class:"footer"},At={class:"more"},Ft={__name:"DetailSection",props:{title:{typeof:String,default:""},moreText:{typeof:String,default:""}},setup(t){return(_,l)=>{const a=T;return s(),o("div",Bt,[e("div",Lt,[e("h2",null,c(t.title),1)]),e("div",Pt,[q(_.$slots,"default",{},()=>[w("默认内容")],!0)]),t.moreText.length?(s(),o("div",Rt,[e("span",At,c(t.moreText),1),i(a,{name:"arrow"})])):D("",!0)])}}},x=p(Ft,[["__scopeId","data-v-eb0f2e3d"]]);const Nt=t=>(R("data-v-5f391392"),t=t(),A(),t),Ot={class:"facility"},jt={class:"facility-inner"},zt={key:0,class:"item"},Gt={class:"group-name"},Et=["src"],Vt={class:"text"},Ht={class:"list"},Kt=Nt(()=>e("i",{class:"iconfont icon-duihaoyuan"},null,-1)),Zt={class:"text"},qt={__name:"DetailFacility_03",props:{houseFacility:{typeof:Object,default:()=>({})}},setup(t){return(_,l)=>(s(),o("div",Ot,[e("div",jt,[i(x,{title:"房屋设施","more-text":"查看全部设施"},{default:g(()=>[(s(!0),o(v,null,f(t.houseFacility.houseFacilitys,(a,d)=>{var r;return s(),o(v,{key:d},[(r=t.houseFacility.facilitySort)!=null&&r.includes(d)?(s(),o("div",zt,[e("div",Gt,[e("img",{src:a.icon,alt:""},null,8,Et),e("div",Vt,c(a.groupName),1)]),e("div",Ht,[(s(!0),o(v,null,f(a.facilitys.slice(0,4),(n,m)=>(s(),o("div",{key:m,class:"list-item"},[Kt,e("span",Zt,c(n.name),1)]))),128))])])):D("",!0)],64)}),128))]),_:1})])]))}},Jt=p(qt,[["__scopeId","data-v-5f391392"]]);const Qt=t=>(R("data-v-827aa7b4"),t=t(),A(),t),Ut={class:"landlord"},Wt={class:"header"},Xt=["src"],Yt={class:"hotel-infos"},te={class:"left"},ee={class:"hotel-logo"},se=["src"],oe={class:"hotel-name"},ae={class:"name"},ne=Qt(()=>e("div",{class:"right"},[e("button",null,"联系商家")],-1)),ce={class:"hotel-summary"},le={class:"title"},ie={class:"introduction"},de={class:"tip"},re={__name:"DetailLandlord_04",props:{landlordList:{typeof:Object,default:()=>({})}},setup(t){return(_,l)=>(s(),o("div",Ut,[i(x,{title:"房东介绍","more-text":"查看房东主页"},{default:g(()=>[e("div",Wt,[e("img",{src:t.landlordList.topScroll,alt:""},null,8,Xt)]),e("div",Yt,[e("div",te,[e("div",ee,[e("img",{src:t.landlordList.hotelLogo,alt:""},null,8,se)]),e("div",oe,[e("div",ae,c(t.landlordList.hotelName),1),(s(!0),o(v,null,f(t.landlordList.hotelTags,(a,d)=>(s(),o("span",{key:d,class:P(["tags",{myStyle:d===t.landlordList.hotelTags.length-1}]),style:M({color:a.tagText.color})},c(a.tagText.text),7))),128))])]),ne]),e("div",ce,[(s(!0),o(v,null,f(t.landlordList.hotelSummary,(a,d)=>(s(),o("div",{key:d,class:"hotel-item"},[e("div",le,c(a.title),1),e("div",ie,c(a.introduction),1),e("div",de,c(a.tip),1)]))),128))])]),_:1})]))}},_e=p(re,[["__scopeId","data-v-827aa7b4"]]);const ue={class:"hot-comment"},me={class:"comment-top"},he={class:"left"},ve={class:"overall"},fe={class:"score"},pe={class:"score-top"},ye={class:"score-center"},ge={class:"rate"},$e={class:"right"},xe={class:"comment-center"},De={class:"comment-bottom"},Ie={class:"comment-infos"},ke={class:"avatars"},be=["src"],we={class:"name"},Se={class:"username"},Te={class:"date"},Ce={class:"comment-detail"},Me={__name:"DetailComment_05",props:{commentData:{typeof:Object,default:()=>({})}},setup(t){return(_,l)=>{const a=st;return s(),o("div",ue,[i(x,{title:"热门评论","more-text":`查看全部${t.commentData.totalCount}条评论`},{default:g(()=>[e("div",me,[e("div",he,[e("div",ve,c(t.commentData.overall),1),e("div",fe,[e("div",pe,c(t.commentData.scoreTitle),1),e("div",ye,c(t.commentData.totalCount)+"条评论",1),e("div",ge,[i(a,{"model-value":t.commentData.overall,"allow-half":"",readonly:"",size:"12",color:"#FF9645"},null,8,["model-value"])])])]),e("div",$e,[(s(!0),o(v,null,f(t.commentData.subScores,(d,r)=>(s(),o("span",{key:r},c(d),1))),128))])]),e("div",xe,[(s(!0),o(v,null,f(t.commentData.commentTagVo,(d,r)=>(s(),o("span",{key:r,style:M({color:d.color,background:d.backgroundColor})},c(d.text),5))),128))]),e("div",De,[e("div",Ie,[e("div",ke,[e("img",{src:t.commentData.comment.userAvatars,alt:""},null,8,be)]),e("div",we,[e("div",Se,c(t.commentData.comment.userName),1),e("div",Te,c(t.commentData.comment.checkInDate),1)])]),e("div",Ce,c(t.commentData.comment.commentDetail),1)])]),_:1},8,["more-text"])])}}},Be=p(Me,[["__scopeId","data-v-475e2154"]]);const Le={class:"rules"},Pe={class:"order-rules"},Re={class:"title"},Ae={class:"introduction"},Fe={key:0,class:"tip"},Ne={__name:"DetailRules_06",props:{rulesData:{typeof:Object,default:()=>({})}},setup(t){return(_,l)=>(s(),o("div",Le,[i(x,{title:"预订须知"},{default:g(()=>[e("div",Pe,[(s(!0),o(v,null,f(t.rulesData.orderRules,(a,d)=>(s(),o("div",{key:d,class:"item"},[e("div",Re,c(a.title),1),e("div",Ae,[w(c(a.introduction)+" ",1),a.title==="在线押金"?(s(),o("div",Fe,"查看说明")):D("",!0)])]))),128))])]),_:1})]))}},Oe=p(Ne,[["__scopeId","data-v-7292d5f4"]]);const je={class:"detail-map"},ze={__name:"DetailMap_07",props:{position:{typeof:Object,default:()=>({})}},setup(t){const _=t,l=C();return J(()=>{const a=new BMapGL.Map(l.value),d=new BMapGL.Point(_.position.longitude,_.position.latitude);a.centerAndZoom(d,15);const r=new BMapGL.Marker(d);a.addOverlay(r)}),(a,d)=>(s(),o("div",je,[i(x,{title:"位置周边","more-text":"查看更多周边信息"},{default:g(()=>[e("div",{class:"baidu",ref_key:"mapRef",ref:l},null,512)]),_:1})]))}},Ge=p(ze,[["__scopeId","data-v-a6435d3c"]]);const Ee={class:"price-infos"},Ve={class:"title"},He={class:"introduction"},Ke={__name:"DetailPriceInfos_08",props:{introduction:{typeof:Object,default:()=>({})}},setup(t){return(_,l)=>(s(),o("div",Ee,[i(x,null,{default:g(()=>[e("div",Ve,c(t.introduction.title),1),e("div",He,c(t.introduction.introduction),1)]),_:1})]))}},Ze=p(Ke,[["__scopeId","data-v-43676b0a"]]);const qe={class:"detail",ref:"detailRef"},Je={key:0},Qe={class:"footer"},Ue=["src"],We={__name:"Detail",setup(t){const _=Q(),l=U(),a=_.params.id,d=dt();d.fetchDetailAction(a);const{detailData:r}=W(d),n=X(()=>r.value.mainPart),m=()=>{l.back()};return($,h)=>{const u=lt;return s(),o("div",qe,[i(u,{title:"房屋详情","left-text":"首页",color:"#ff5000","left-arrow":"",onClickLeft:m}),n.value?(s(),o("div",Je,[i(ft,{"swipe-data":n.value.topModule.housePicture.housePics},null,8,["swipe-data"]),i(Mt,{"detail-infos":n.value.topModule},null,8,["detail-infos"]),i(Jt,{"house-facility":n.value.dynamicModule.facilityModule.houseFacility},null,8,["house-facility"]),i(_e,{"landlord-list":n.value.dynamicModule.landlordModule},null,8,["landlord-list"]),i(Be,{"comment-data":n.value.dynamicModule.commentModule},null,8,["comment-data"]),i(Oe,{"rules-data":n.value.dynamicModule.rulesModule},null,8,["rules-data"]),i(Ge,{position:n.value.dynamicModule.positionModule},null,8,["position"]),i(Ze,{introduction:n.value.introductionModule},null,8,["introduction"])])):D("",!0),e("div",Qe,[e("img",{src:n.value.ensureModule.icon,alt:""},null,8,Ue)])],512)}}},ss=p(We,[["__scopeId","data-v-98edef94"]]);export{ss as default};
